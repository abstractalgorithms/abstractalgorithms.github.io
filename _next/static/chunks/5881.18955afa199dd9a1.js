"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5881],{65881:function(t,e,s){s.d(e,{clientSearch:function(){return o}});class i{async initialize(){if(this.initialized){console.log("\uD83D\uDD04 Client search already initialized with",this.posts.length,"posts");return}console.log("\uD83D\uDE80 Initializing client search...");try{console.log("\uD83D\uDCE1 Attempting to fetch posts index from /data/posts-index.json");let t=await fetch("/data/posts-index.json");if(console.log("\uD83D\uDCE1 Fetch response status:",t.status),t.ok){this.posts=await t.json(),console.log("✅ Successfully loaded posts:",this.posts.length),this.initialized=!0;return}console.log("❌ Failed to fetch posts index, status:",t.status)}catch(t){console.warn("⚠️ Could not load static posts data:",t)}try{let{getPosts:t}=await Promise.all([s.e(598),s.e(244),s.e(978),s.e(3123),s.e(1941)]).then(s.bind(s,30186)),e=await t();this.posts=e.map(t=>{var e;return{slug:t.slug,title:t.title,excerpt:t.excerpt,tags:t.tags,readingTime:t.readingTime,content:null===(e=t.content)||void 0===e?void 0:e.replace(/<[^>]*>/g,"")}}),this.initialized=!0}catch(t){console.error("Failed to load posts for search:",t)}}async search(t){if(await this.initialize(),!t||t.length<2)return[];let e=t.toLowerCase().trim(),s=e.split(/\s+/).filter(t=>t.length>1),i=[];for(let t of this.posts){let o=0,n="content",l="",a=t.title.toLowerCase();for(let i of(a.includes(e)&&(o+=100,n="title",l=t.title),s))a.includes(i)&&(o+=50);let c=t.tags.filter(t=>t.toLowerCase().includes(e)||s.some(e=>t.toLowerCase().includes(e)));if(c.length>0&&(o+=75*c.length)<100&&(n="tag",l=c.join(", ")),t.content){let i=t.content.toLowerCase();if(i.includes(e)&&(o+=25)<100&&"content"===n){let s=i.indexOf(e),o=Math.max(0,s-50),n=Math.min(t.content.length,s+e.length+50);l="..."+t.content.slice(o,n)+"..."}for(let t of s)o+=5*(i.match(RegExp(t,"g"))||[]).length}t.excerpt.toLowerCase().includes(e)&&(o+=15)<100&&"content"===n&&!l&&(l=t.excerpt),a===e&&(o+=200),t.tags.some(t=>t.toLowerCase()===e)&&(o+=100),o>10&&i.push({slug:t.slug,title:t.title,excerpt:t.excerpt,tags:t.tags,readingTime:t.readingTime,matchType:n,matchText:l||t.excerpt,score:o})}return i.sort((t,e)=>e.score-t.score).slice(0,20)}constructor(){this.posts=[],this.initialized=!1}}let o=new i}}]);