"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5881],{65881:function(e,t,s){s.d(t,{clientSearch:function(){return o}});class i{async initialize(){if(this.initialized){console.log("\uD83D\uDD04 Client search already initialized with",this.posts.length,"posts");return}console.log("\uD83D\uDE80 Initializing client search...");try{console.log("\uD83D\uDCE1 Attempting to fetch posts index from /data/posts-index.json");let e=await fetch("/data/posts-index.json");if(console.log("\uD83D\uDCE1 Fetch response status:",e.status),e.ok){this.posts=await e.json(),console.log("✅ Successfully loaded posts:",this.posts.length),this.initialized=!0;return}console.log("❌ Failed to fetch posts index, status:",e.status)}catch(e){console.warn("⚠️ Could not load static posts data:",e)}try{let{getPosts:e}=await Promise.all([s.e(4467),s.e(731),s.e(9029),s.e(2178),s.e(3829),s.e(209),s.e(7240),s.e(5991),s.e(4980),s.e(5598),s.e(5276),s.e(9495),s.e(3440),s.e(4956),s.e(4421),s.e(3577),s.e(7399),s.e(7085),s.e(38),s.e(4799),s.e(7856),s.e(3305),s.e(1448),s.e(9357),s.e(747),s.e(1576),s.e(4657),s.e(8212),s.e(3178),s.e(5540)]).then(s.bind(s,30186)),t=await e();this.posts=t.map(e=>{var t;return{slug:e.slug,title:e.title,excerpt:e.excerpt,tags:e.tags,readingTime:e.readingTime,content:null===(t=e.content)||void 0===t?void 0:t.replace(/<[^>]*>/g,"")}}),this.initialized=!0}catch(e){console.error("Failed to load posts for search:",e)}}async search(e){if(await this.initialize(),!e||e.length<2)return[];let t=e.toLowerCase().trim(),s=t.split(/\s+/).filter(e=>e.length>1),i=[];for(let e of this.posts){let o=0,n="content",l="",a=e.title.toLowerCase();for(let i of(a.includes(t)&&(o+=100,n="title",l=e.title),s))a.includes(i)&&(o+=50);let c=e.tags.filter(e=>e.toLowerCase().includes(t)||s.some(t=>e.toLowerCase().includes(t)));if(c.length>0&&(o+=75*c.length)<100&&(n="tag",l=c.join(", ")),e.content){let i=e.content.toLowerCase();if(i.includes(t)&&(o+=25)<100&&"content"===n){let s=i.indexOf(t),o=Math.max(0,s-50),n=Math.min(e.content.length,s+t.length+50);l="..."+e.content.slice(o,n)+"..."}for(let e of s)o+=5*(i.match(RegExp(e,"g"))||[]).length}e.excerpt.toLowerCase().includes(t)&&(o+=15)<100&&"content"===n&&!l&&(l=e.excerpt),a===t&&(o+=200),e.tags.some(e=>e.toLowerCase()===t)&&(o+=100),o>10&&i.push({slug:e.slug,title:e.title,excerpt:e.excerpt,tags:e.tags,readingTime:e.readingTime,matchType:n,matchText:l||e.excerpt,score:o})}return i.sort((e,t)=>t.score-e.score).slice(0,20)}constructor(){this.posts=[],this.initialized=!1}}let o=new i}}]);