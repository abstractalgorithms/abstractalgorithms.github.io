(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{30247:function(e,s,t){Promise.resolve().then(t.bind(t,39670))},29202:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(39763).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},89345:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(39763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},83774:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(39763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},92369:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(39763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},39670:function(e,s,t){"use strict";t.d(s,{default:function(){return N}});var r=t(57437),a=t(2265),i=t(99376),l=t(99764),d=t(84603),n=t(20438),c=t(32660),x=t(88906),m=t(92369),o=t(2207),u=t(89345),h=t(29202),f=t(83774),j=t(31047),b=t(27648);function N(){let e=(0,i.useParams)(),s=(0,i.useRouter)(),{user:t,userProfile:N,loading:g}=(0,d.a)(),[y,v]=(0,a.useState)(null),[p,w]=(0,a.useState)(!0),[Z,k]=(0,a.useState)(null),U=e&&"object"==typeof e&&"id"in e?e.id:void 0;(0,a.useEffect)(()=>{if(!g&&(!N||"admin"!==N.role)){s.push("/");return}U&&(null==N?void 0:N.role)==="admin"&&D()},[U,N,g]);let D=async()=>{try{if(w(!0),k(null),!t){k("Not authenticated");return}if(!U){k("User ID not found in route.");return}let e=await t.getIdToken(),s=await l.G.getUserProfile(U,e);if(!s){k("User not found");return}v(s)}catch(e){console.error("Error loading user profile:",e),k("Failed to load user profile")}finally{w(!1)}},E=e=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e);return g||p?(0,r.jsx)(n.Z,{title:"Loading User",children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading user profile..."})]})})}):Z?(0,r.jsx)(n.Z,{title:"Error",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsxs)(b.default,{href:"/admin",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Back to Admin Dashboard"]}),(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,r.jsx)("div",{className:"text-red-600 text-lg font-medium mb-2",children:"Error"}),(0,r.jsx)("p",{className:"text-red-700",children:Z})]})]})}):y?U?(0,r.jsx)(n.Z,{title:"User: ".concat(y.displayName||y.email),children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)(b.default,{href:"/admin",className:"inline-flex items-center text-blue-600 hover:text-blue-700",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Back to Admin Dashboard"]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat((e=>{switch(e){case"admin":return"bg-red-100 text-red-800 border-red-200";case"content-creator":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(y.role)),children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 inline mr-1"}),y.role]}),y.disabled&&(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800 border border-red-200",children:"Disabled"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(m.Z,{className:"w-8 h-8 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:y.displayName||"No display name"}),(0,r.jsx)("p",{className:"text-gray-600",children:y.email})]})]}),(0,r.jsxs)(b.default,{href:"/admin/users/".concat(y.uid,"/edit"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Edit User"]})]})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(u.Z,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Email"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:y.email})]})]}),y.website&&(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(h.Z,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Website"}),(0,r.jsx)("a",{href:y.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700",children:y.website})]})]}),y.location&&(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(f.Z,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Location"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:y.location})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Details"}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(j.Z,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Created"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:E(y.createdAt)})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(j.Z,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Last Updated"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:E(y.updatedAt)})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(x.Z,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"User ID"}),(0,r.jsx)("div",{className:"text-sm text-gray-600 font-mono",children:y.uid})]})]})]})]}),y.bio&&(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Bio"}),(0,r.jsx)("p",{className:"text-gray-700 leading-relaxed",children:y.bio})]})]})]})]})}):(0,r.jsx)(n.Z,{title:"User Not Found",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsxs)(b.default,{href:"/admin",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Back to Admin Dashboard"]}),(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:(0,r.jsx)("p",{className:"text-gray-600",children:"User ID not found in route."})})]})}):(0,r.jsx)(n.Z,{title:"User Not Found",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsxs)(b.default,{href:"/admin",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Back to Admin Dashboard"]}),(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:(0,r.jsx)("p",{className:"text-gray-600",children:"User not found"})})]})})}}},function(e){e.O(0,[4358,139,2972,244,5973,5605,6299,2971,2117,1744],function(){return e(e.s=30247)}),_N_E=e.O()}]);